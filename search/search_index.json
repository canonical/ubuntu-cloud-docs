{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[^\\w]+"},"docs":[{"location":"index.html","text":"WELCOME Welcome to the Canonical Public Clouds Documentation. This site contains documentation related to Canonical offerings in the major clouds, as supported by the Canonical Public Cloud team. This includes information about supported Ubuntu versions and Canonical specific offerings. This site is laid out following Diataxis . The cloud directories are placed at the highest level. Under clouds (AWS, Azure, Google, Oracle, IBM, Canonical-Downloads) are products (EC2, EKS, GCE, GKE, etc.) and under products are the for documentations categories. Documentation is found at a corresponding level. Thus a reference describing AWS EKS is in AWS/EKS/reference a reference describing Canonical's general work on AWS is in AWS/reference a reference that describes something common to all clouds is in general/reference explanation of how to use the site is here, at the top level. Contribution If you would like to contribute to this site, please visit see our Github . Pull requests and issues are welcome!","title":"WELCOME"},{"location":"index.html#welcome","text":"Welcome to the Canonical Public Clouds Documentation. This site contains documentation related to Canonical offerings in the major clouds, as supported by the Canonical Public Cloud team. This includes information about supported Ubuntu versions and Canonical specific offerings. This site is laid out following Diataxis . The cloud directories are placed at the highest level. Under clouds (AWS, Azure, Google, Oracle, IBM, Canonical-Downloads) are products (EC2, EKS, GCE, GKE, etc.) and under products are the for documentations categories. Documentation is found at a corresponding level. Thus a reference describing AWS EKS is in AWS/EKS/reference a reference describing Canonical's general work on AWS is in AWS/reference a reference that describes something common to all clouds is in general/reference explanation of how to use the site is here, at the top level.","title":"WELCOME"},{"location":"index.html#contribution","text":"If you would like to contribute to this site, please visit see our Github . Pull requests and issues are welcome!","title":"Contribution"},{"location":"AWS/EC2/index.html","text":"EC2","title":"EC2"},{"location":"AWS/EC2/index.html#ec2","text":"","title":"EC2"},{"location":"AWS/EKS/index.html","text":"EKS","title":"EKS"},{"location":"AWS/EKS/index.html#eks","text":"","title":"EKS"},{"location":"Azure/index.html","text":"Azure","title":"Azure"},{"location":"Azure/index.html#azure","text":"","title":"Azure"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html","text":"Upgrading from Focal to Jammy on Azure General Advice When deciding how to upgrade the main consideration is whether your system can be setup/deployed with automation or requires manual configuration. Running do-release-upgrade requires some manual intervention ( see Manual upgrade steps ), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed. For system deployments which are fully automated it is recommended to redeploy with new Jammy instances instead of upgrading from Focal. Manual upgrade steps If you are upgrading from Focal to Jammy you can expect to run into the following prompts requesting manual input. Additional SSH daemon When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk an additional SSH daemon is started on a different port as a backup. Optional firewall rules for additional SSH daemon If you are using a firewall there is a chance the port used by the backup SSHD is not open. Opening this port is not done automatically since it could be security risk. Start upgrade A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided because once you start the upgrade process it cannot be cancelled. Restart services automatically Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted. Chrony configuration modified Canonical makes changes to /etc/chrony/chrony.conf for Azure images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action. SSHD configuration modified Canonical makes changes to /etc/ssh/sshd_config for Azure images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action. Remove obsolete packages An obsolete package is a package which is no longer available in any of the sources for Apt. Usually it is safe and recommended to remove obsolete packages but you can verify which packages would be removed before doing so. Restart to finish upgrade A restart will be necessary for some parts of the upgrade to be applied. If you select no to the restart you can check /var/run/reboot-required.pkgs to see which things need a reboot to be applied.","title":"Upgrading from Focal to Jammy on Azure"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#upgrading-from-focal-to-jammy-on-azure","text":"","title":"Upgrading from Focal to Jammy on Azure"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#general-advice","text":"When deciding how to upgrade the main consideration is whether your system can be setup/deployed with automation or requires manual configuration. Running do-release-upgrade requires some manual intervention ( see Manual upgrade steps ), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed. For system deployments which are fully automated it is recommended to redeploy with new Jammy instances instead of upgrading from Focal.","title":"General Advice"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#manual-upgrade-steps","text":"If you are upgrading from Focal to Jammy you can expect to run into the following prompts requesting manual input.","title":"Manual upgrade steps"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#additional-ssh-daemon","text":"When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk an additional SSH daemon is started on a different port as a backup.","title":"Additional SSH daemon"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#optional-firewall-rules-for-additional-ssh-daemon","text":"If you are using a firewall there is a chance the port used by the backup SSHD is not open. Opening this port is not done automatically since it could be security risk.","title":"Optional firewall rules for additional SSH daemon"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#start-upgrade","text":"A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided because once you start the upgrade process it cannot be cancelled.","title":"Start upgrade"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#restart-services-automatically","text":"Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted.","title":"Restart services automatically"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#chrony-configuration-modified","text":"Canonical makes changes to /etc/chrony/chrony.conf for Azure images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action.","title":"Chrony configuration modified"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#sshd-configuration-modified","text":"Canonical makes changes to /etc/ssh/sshd_config for Azure images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action.","title":"SSHD configuration modified"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#remove-obsolete-packages","text":"An obsolete package is a package which is no longer available in any of the sources for Apt. Usually it is safe and recommended to remove obsolete packages but you can verify which packages would be removed before doing so.","title":"Remove obsolete packages"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#restart-to-finish-upgrade","text":"A restart will be necessary for some parts of the upgrade to be applied. If you select no to the restart you can check /var/run/reboot-required.pkgs to see which things need a reboot to be applied.","title":"Restart to finish upgrade"},{"location":"Azure/how_tos/Find_Images.html","text":"Find Ubuntu images on Azure Latest images Free Long Term Support offers To learn more about LTS versions of Ubuntu read this article . Ubuntu 22.04 LTS - Jammy Jellyfish Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-server-jammy:22_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-jammy:22_04-lts-gen2:latest Architecture: Arm64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-jammy:22_04-lts-arm64:latest Ubuntu 20.04 LTS - Focal Fossa Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-server-focal:20_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-focal:20_04-lts-gen2:latest Architecture: Arm64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-focal:20_04-lts-arm64:latest Ubuntu 18.04 LTS - Bionic Beaver Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:UbuntuServer:18.04-LTS:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:UbuntuServer:18_04-lts-gen2:latest Architecture: Arm64 Hyper-V Generation: Gen2 Canonical:UbuntuServer:18_04-lts-arm64:latest Interim releases To learn more about the difference between LTS releases and interim releases, see this page . Ubuntu 22.10 - Kinetic Kudu Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-server-kinetic:22_10:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-kinetic:22_10-gen2:latest Architecture: Arm64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-kinetic:22_10-arm64:latest Ubuntu Pro Offers To learn more about Ubuntu Pro on Azure: Ubuntu Pro for Azure Ubuntu Pro 22.04 LTS - Jammy Jellyfish Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-jammy:pro-22_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-jammy:pro-22_04-lts-gen2:latest Ubuntu Pro 20.04 LTS - Focal Fossa Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-focal:pro-20_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-focal:pro-20_04-lts-gen2:latest Ubuntu Pro 18.04 LTS - Bionic Beaver Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-bionic:pro-18_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-bionic:pro-18_04-lts-gen2:latest Confidential Compute capable offer To learn more about Confidential Compute: Azure confidential computing Ubuntu CVM 20.04 LTS - Focal Fossa Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-confidential-vm-focal:20_04-lts-cvm:latest FIPS compliant offers To learn more about FIPS: FIPS for Ubuntu Ubuntu Pro FIPS 20.04 LTS - Focal Fossa Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-focal-fips:pro-fips-20_04:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-focal-fips:pro-fips-20_04-gen2:latest Ubuntu Pro FIPS 18.04 LTS - Bionic Beaver Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-bionic-fips:pro-fips-18_04:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-bionic-fips:pro-fips-18_04-gen2:latest CIS Hardened offer To learn more about CIS compliance: CIS compliance with Ubuntu LTS Ubuntu Minimal Pro CIS 20.04 LTS - Focal Fossa Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-minimal-cis-focal:pro-cis-minimal-20_04:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-minimal-cis-focal:pro-cis-minimal-20_04-gen2:latest List all images published by Canonical Canonical publishes Ubuntu images under the Canonical publisher ID. One can find all our images using this az command: az vm image list -p Canonical --all -o table Via the Portal, make sure to look for Canonical rather than Ubuntu to find the official Ubuntu images. Also, always make sure the offer is published by Canonical. Non-Pro LTS offers are always FREE .","title":"Find Ubuntu images on Azure"},{"location":"Azure/how_tos/Find_Images.html#find-ubuntu-images-on-azure","text":"","title":"Find Ubuntu images on Azure"},{"location":"Azure/how_tos/Find_Images.html#latest-images","text":"","title":"Latest images"},{"location":"Azure/how_tos/Find_Images.html#free-long-term-support-offers","text":"To learn more about LTS versions of Ubuntu read this article .","title":"Free Long Term Support offers"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-2204-lts-jammy-jellyfish","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-server-jammy:22_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-jammy:22_04-lts-gen2:latest Architecture: Arm64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-jammy:22_04-lts-arm64:latest","title":"Ubuntu 22.04 LTS - Jammy Jellyfish"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-2004-lts-focal-fossa","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-server-focal:20_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-focal:20_04-lts-gen2:latest Architecture: Arm64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-focal:20_04-lts-arm64:latest","title":"Ubuntu 20.04 LTS - Focal Fossa"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-1804-lts-bionic-beaver","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:UbuntuServer:18.04-LTS:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:UbuntuServer:18_04-lts-gen2:latest Architecture: Arm64 Hyper-V Generation: Gen2 Canonical:UbuntuServer:18_04-lts-arm64:latest","title":"Ubuntu 18.04 LTS - Bionic Beaver"},{"location":"Azure/how_tos/Find_Images.html#interim-releases","text":"To learn more about the difference between LTS releases and interim releases, see this page .","title":"Interim releases"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-2210-kinetic-kudu","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-server-kinetic:22_10:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-kinetic:22_10-gen2:latest Architecture: Arm64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-server-kinetic:22_10-arm64:latest","title":"Ubuntu 22.10 - Kinetic Kudu"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-offers","text":"To learn more about Ubuntu Pro on Azure: Ubuntu Pro for Azure","title":"Ubuntu Pro Offers"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-2204-lts-jammy-jellyfish","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-jammy:pro-22_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-jammy:pro-22_04-lts-gen2:latest","title":"Ubuntu Pro 22.04 LTS - Jammy Jellyfish"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-2004-lts-focal-fossa","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-focal:pro-20_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-focal:pro-20_04-lts-gen2:latest","title":"Ubuntu Pro 20.04 LTS - Focal Fossa"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-1804-lts-bionic-beaver","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-bionic:pro-18_04-lts:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-bionic:pro-18_04-lts-gen2:latest","title":"Ubuntu Pro 18.04 LTS - Bionic Beaver"},{"location":"Azure/how_tos/Find_Images.html#confidential-compute-capable-offer","text":"To learn more about Confidential Compute: Azure confidential computing","title":"Confidential Compute capable offer"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-cvm-2004-lts-focal-fossa","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-confidential-vm-focal:20_04-lts-cvm:latest","title":"Ubuntu CVM 20.04 LTS - Focal Fossa"},{"location":"Azure/how_tos/Find_Images.html#fips-compliant-offers","text":"To learn more about FIPS: FIPS for Ubuntu","title":"FIPS compliant offers"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-fips-2004-lts-focal-fossa","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-focal-fips:pro-fips-20_04:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-focal-fips:pro-fips-20_04-gen2:latest","title":"Ubuntu Pro FIPS 20.04 LTS - Focal Fossa"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-fips-1804-lts-bionic-beaver","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-bionic-fips:pro-fips-18_04:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-bionic-fips:pro-fips-18_04-gen2:latest","title":"Ubuntu Pro FIPS 18.04 LTS - Bionic Beaver"},{"location":"Azure/how_tos/Find_Images.html#cis-hardened-offer","text":"To learn more about CIS compliance: CIS compliance with Ubuntu LTS","title":"CIS Hardened offer"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-minimal-pro-cis-2004-lts-focal-fossa","text":"Quick Start: portal.azure.com Kind URN Architecture: AMD64 Hyper-V Generation: Gen1 Canonical:0001-com-ubuntu-pro-minimal-cis-focal:pro-cis-minimal-20_04:latest Architecture: AMD64 Hyper-V Generation: Gen2 Canonical:0001-com-ubuntu-pro-minimal-cis-focal:pro-cis-minimal-20_04-gen2:latest","title":"Ubuntu Minimal Pro CIS 20.04 LTS - Focal Fossa"},{"location":"Azure/how_tos/Find_Images.html#list-all-images-published-by-canonical","text":"Canonical publishes Ubuntu images under the Canonical publisher ID. One can find all our images using this az command: az vm image list -p Canonical --all -o table Via the Portal, make sure to look for Canonical rather than Ubuntu to find the official Ubuntu images. Also, always make sure the offer is published by Canonical. Non-Pro LTS offers are always FREE .","title":"List all images published by Canonical"},{"location":"Azure/how_tos/Install_Azure_CLI.html","text":"Install Azure CLI on Ubuntu This documentation is based on the official Azure documentation . Install a few pre-requisites: sudo apt-get update sudo apt-get install ca-certificates curl apt-transport-https lsb-release gnupg Download the key for the Microsoft archive: curl -sL https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/microsoft.gpg > /dev/null Add the repository to the sources list: SUITE=$(lsb_release -cs) echo \"deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ $SUITE main\" | sudo tee /etc/apt/sources.list.d/microsoft.list Pin a few rules to only allow the Azure CLI to be fetch from Microsoft's archive: cat << EOF | sudo tee /etc/apt/preferences.d/99-microsoft # Never prefer packages from the Microsoft repository Package: * Pin: origin https://packages.microsoft.com/repos/azure-cli Pin-Priority: 1 # ...except if it is the Azure CLI Package: azure-cli Pin: origin https://packages.microsoft.com/repos/azure-cli Pin-Priority: 500 EOF Finally, install the CLI: sudo apt-get update && \\ sudo apt-get install -y azure-cli","title":"Install Azure CLI on Ubuntu"},{"location":"Azure/how_tos/Install_Azure_CLI.html#install-azure-cli-on-ubuntu","text":"This documentation is based on the official Azure documentation . Install a few pre-requisites: sudo apt-get update sudo apt-get install ca-certificates curl apt-transport-https lsb-release gnupg Download the key for the Microsoft archive: curl -sL https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/microsoft.gpg > /dev/null Add the repository to the sources list: SUITE=$(lsb_release -cs) echo \"deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ $SUITE main\" | sudo tee /etc/apt/sources.list.d/microsoft.list Pin a few rules to only allow the Azure CLI to be fetch from Microsoft's archive: cat << EOF | sudo tee /etc/apt/preferences.d/99-microsoft # Never prefer packages from the Microsoft repository Package: * Pin: origin https://packages.microsoft.com/repos/azure-cli Pin-Priority: 1 # ...except if it is the Azure CLI Package: azure-cli Pin: origin https://packages.microsoft.com/repos/azure-cli Pin-Priority: 500 EOF Finally, install the CLI: sudo apt-get update && \\ sudo apt-get install -y azure-cli","title":"Install Azure CLI on Ubuntu"},{"location":"Azure/reference/Confidential_Trusted.html","text":"Trusted Launch and Confidential VM Azure provides two security types : Trusted Launch which is a set of features including vTPM and Secure Boot Confidential VM with support for AMD SEV-SNP , along with measured boot using a vTPM Trusted Launch All Ubuntu images from 20.04 (Focal Fossa) support Trusted Launch and secure boot on Hyper-V Gen2 instances. One can start an instance of Ubuntu with secure boot enabled and a vTPM with the Azure CLI by using the following flags: --security-type TrustedLaunch --enable-secure-boot true --enable-vtpm . Confidential VM Use Confidential VM on Ubuntu Confidential VM require the use a special instance sizes and a special version of Ubuntu. the list of instance sizes that can be used with Confidential VM can be found in Azure's documentation only this specific offer of Ubuntu supports Confidential VM What is it? See our techincal blog post about Confidential VM . In short, Confidential VM is the combination of two features: Memory encryption: the memory of the virtual machine is encrypted and decrypted on the fly by the CPU. This is done using AMD SEV-SNP technology. This ensures that the host machine cannot read the memory of the guest since the encryption is done at the hardware level (v)TPM backed Full-disk encryption (FDE): not only the file system of the guest OS is encrypted at rest but the keys are stored in an enclave and cannot be retrieved unless the boot process stayed untouched since the key was sealed. Re-sealing happen when a new kernel is installed as replacing the kernel binary changes the boot sequence. The vTPM is part of the guest VM and its address space. As such, it benefits from the same run-time security guarantees as the guest VM memory. It's important to note that memory encryption is always enabled with Confidential VM, but FDE is optional and require explicit activation on VM provisioning.","title":"Trusted Launch and Confidential VM"},{"location":"Azure/reference/Confidential_Trusted.html#trusted-launch-and-confidential-vm","text":"Azure provides two security types : Trusted Launch which is a set of features including vTPM and Secure Boot Confidential VM with support for AMD SEV-SNP , along with measured boot using a vTPM","title":"Trusted Launch and Confidential VM"},{"location":"Azure/reference/Confidential_Trusted.html#trusted-launch","text":"All Ubuntu images from 20.04 (Focal Fossa) support Trusted Launch and secure boot on Hyper-V Gen2 instances. One can start an instance of Ubuntu with secure boot enabled and a vTPM with the Azure CLI by using the following flags: --security-type TrustedLaunch --enable-secure-boot true --enable-vtpm .","title":"Trusted Launch"},{"location":"Azure/reference/Confidential_Trusted.html#confidential-vm","text":"","title":"Confidential VM"},{"location":"Azure/reference/Confidential_Trusted.html#use-confidential-vm-on-ubuntu","text":"Confidential VM require the use a special instance sizes and a special version of Ubuntu. the list of instance sizes that can be used with Confidential VM can be found in Azure's documentation only this specific offer of Ubuntu supports Confidential VM","title":"Use Confidential VM on Ubuntu"},{"location":"Azure/reference/Confidential_Trusted.html#what-is-it","text":"See our techincal blog post about Confidential VM . In short, Confidential VM is the combination of two features: Memory encryption: the memory of the virtual machine is encrypted and decrypted on the fly by the CPU. This is done using AMD SEV-SNP technology. This ensures that the host machine cannot read the memory of the guest since the encryption is done at the hardware level (v)TPM backed Full-disk encryption (FDE): not only the file system of the guest OS is encrypted at rest but the keys are stored in an enclave and cannot be retrieved unless the boot process stayed untouched since the key was sealed. Re-sealing happen when a new kernel is installed as replacing the kernel binary changes the boot sequence. The vTPM is part of the guest VM and its address space. As such, it benefits from the same run-time security guarantees as the guest VM memory. It's important to note that memory encryption is always enabled with Confidential VM, but FDE is optional and require explicit activation on VM provisioning.","title":"What is it?"},{"location":"Canonical-Downloads/index.html","text":"Canonical-Downloads","title":"Canonical-Downloads"},{"location":"Canonical-Downloads/index.html#canonical-downloads","text":"","title":"Canonical-Downloads"},{"location":"Google/GCE/index.html","text":"GCE","title":"GCE"},{"location":"Google/GCE/index.html#gce","text":"","title":"GCE"},{"location":"Google/GCE/explanations/index.html","text":"GCE","title":"GCE"},{"location":"Google/GCE/explanations/index.html#gce","text":"","title":"GCE"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html","text":"Upgrading from Focal Fossa to Jammy Jellyfish on GCE General Advice When deciding how to upgrade an image, a main consideration should be whether the system can be setup or deployed with automation, or whether it requires manual configuration. Running do-release-upgrade currently requires some manual intervention ( see Manual upgrade steps ), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed. For system deployments which are fully automated, it is recommended to redeploy with a new Jammy Jellyfish instances instead of upgrading from Focal Fossa. Manual upgrade steps If the workflow is to upgrade from Focal Fossa to Jammy Jellyfish, the following prompts requesting manual input should be expected. Additional SSH daemon When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk, an additional SSH daemon is started on a different port as a backup. Optional firewall rules for additional SSH daemon If a firewall is present, there is a chance the port used by the backup sshd is not open. Opening this port is not done automatically as it is a security risk. Start upgrade A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided. Once you start the upgrade process it cannot be cancelled. Restart services automatically Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted. sshd configuration modified Canonical makes changes to /etc/ssh/sshd_config for GCE images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version, or take some other action. chrony configuration modified Due to a possible bug in ucf , even if there are no changes in /etc/chrony/chrony.conf there will be a prompt asking whether to keep the current version, use the default in the newer version, or take some other action. Remove obsolete packages An obsolete package is a package which is no longer available in any of the sources for apt . Usually it is safe and recommended to remove these packages, but the option to verify which packages are to be removed is available. Restart to finish upgrade A restart will be necessary for some parts of the upgrade to be applied. If no is selected, /var/run/reboot-required.pkgs may be checked to see which services need rebooting to be applied.","title":"Upgrading from Focal Fossa to Jammy Jellyfish on GCE"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#upgrading-from-focal-fossa-to-jammy-jellyfish-on-gce","text":"","title":"Upgrading from Focal Fossa to Jammy Jellyfish on GCE"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#general-advice","text":"When deciding how to upgrade an image, a main consideration should be whether the system can be setup or deployed with automation, or whether it requires manual configuration. Running do-release-upgrade currently requires some manual intervention ( see Manual upgrade steps ), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed. For system deployments which are fully automated, it is recommended to redeploy with a new Jammy Jellyfish instances instead of upgrading from Focal Fossa.","title":"General Advice"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#manual-upgrade-steps","text":"If the workflow is to upgrade from Focal Fossa to Jammy Jellyfish, the following prompts requesting manual input should be expected.","title":"Manual upgrade steps"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#additional-ssh-daemon","text":"When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk, an additional SSH daemon is started on a different port as a backup.","title":"Additional SSH daemon"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#optional-firewall-rules-for-additional-ssh-daemon","text":"If a firewall is present, there is a chance the port used by the backup sshd is not open. Opening this port is not done automatically as it is a security risk.","title":"Optional firewall rules for additional SSH daemon"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#start-upgrade","text":"A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided. Once you start the upgrade process it cannot be cancelled.","title":"Start upgrade"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#restart-services-automatically","text":"Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted.","title":"Restart services automatically"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#sshd-configuration-modified","text":"Canonical makes changes to /etc/ssh/sshd_config for GCE images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version, or take some other action.","title":"sshd configuration modified"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#chrony-configuration-modified","text":"Due to a possible bug in ucf , even if there are no changes in /etc/chrony/chrony.conf there will be a prompt asking whether to keep the current version, use the default in the newer version, or take some other action.","title":"chrony configuration modified"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#remove-obsolete-packages","text":"An obsolete package is a package which is no longer available in any of the sources for apt . Usually it is safe and recommended to remove these packages, but the option to verify which packages are to be removed is available.","title":"Remove obsolete packages"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#restart-to-finish-upgrade","text":"A restart will be necessary for some parts of the upgrade to be applied. If no is selected, /var/run/reboot-required.pkgs may be checked to see which services need rebooting to be applied.","title":"Restart to finish upgrade"},{"location":"Google/GKE/index.html","text":"GKE","title":"GKE"},{"location":"Google/GKE/index.html#gke","text":"","title":"GKE"},{"location":"IBM/IBM-Classic/index.html","text":"IBM-Classic","title":"IBM-Classic"},{"location":"IBM/IBM-Classic/index.html#ibm-classic","text":"","title":"IBM-Classic"},{"location":"IBM/IBM-VPC/index.html","text":"IBM-VPC","title":"IBM-VPC"},{"location":"IBM/IBM-VPC/index.html#ibm-vpc","text":"","title":"IBM-VPC"},{"location":"Oracle/index.html","text":"Oracle","title":"Oracle"},{"location":"Oracle/index.html#oracle","text":"","title":"Oracle"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html","text":"Upgrading from Focal to Jammy on Oracle General Advice When deciding how to upgrade the main consideration is whether your system can be setup/deployed with automation or requires manual configuration. Running do-release-upgrade requires some manual intervention ( see Manual upgrade steps ), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed. For system deployments which are fully automated it is recommended to redeploy with new Jammy instances instead of upgrading from Focal. Manual upgrade steps If you are upgrading from Focal to Jammy you can expect to run into the following prompts requesting manual input. Additional SSH daemon When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk an additional SSH daemon is started on a different port as a backup. Optional firewall rules for additional SSH daemon If you are using a firewall there is a chance the port used by the backup SSHD is not open. Opening this port is not done automatically since it could be security risk. Start upgrade A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided because once you start the upgrade process it cannot be cancelled. Restart services automatically Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted. Iptables configuration modified Canonical makes changes to /etc/iptables/rules.v4 and /etc/iptables/rules.v6 for Oracle images. As a result when upgrading there will be a prompt asking whether to save current IPv4 and IPv6 rules even if no user changes were made. If additional changes to iptables rules were made, selecting Yes is recommended if preserving those added rules is desired. Selecting No will use the prexisting persistent rules.v4 and rules.v6 which contain the Canonical changes, unless previously modified. SSHD configuration modified Canonical makes changes to /etc/ssh/sshd_config for Oracle images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action. Remove obsolete packages An obsolete package is a package which is no longer available in any of the sources for Apt. Usually it is safe and recommended to remove obsolete packages but you can verify which packages would be removed before doing so. Restart to finish upgrade A restart will be necessary for some parts of the upgrade to be applied. If you select no to the restart you can check /var/run/reboot-required.pkgs to see which things need a reboot to be applied.","title":"Upgrading from Focal to Jammy on Oracle"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#upgrading-from-focal-to-jammy-on-oracle","text":"","title":"Upgrading from Focal to Jammy on Oracle"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#general-advice","text":"When deciding how to upgrade the main consideration is whether your system can be setup/deployed with automation or requires manual configuration. Running do-release-upgrade requires some manual intervention ( see Manual upgrade steps ), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed. For system deployments which are fully automated it is recommended to redeploy with new Jammy instances instead of upgrading from Focal.","title":"General Advice"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#manual-upgrade-steps","text":"If you are upgrading from Focal to Jammy you can expect to run into the following prompts requesting manual input.","title":"Manual upgrade steps"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#additional-ssh-daemon","text":"When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk an additional SSH daemon is started on a different port as a backup.","title":"Additional SSH daemon"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#optional-firewall-rules-for-additional-ssh-daemon","text":"If you are using a firewall there is a chance the port used by the backup SSHD is not open. Opening this port is not done automatically since it could be security risk.","title":"Optional firewall rules for additional SSH daemon"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#start-upgrade","text":"A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided because once you start the upgrade process it cannot be cancelled.","title":"Start upgrade"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#restart-services-automatically","text":"Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted.","title":"Restart services automatically"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#iptables-configuration-modified","text":"Canonical makes changes to /etc/iptables/rules.v4 and /etc/iptables/rules.v6 for Oracle images. As a result when upgrading there will be a prompt asking whether to save current IPv4 and IPv6 rules even if no user changes were made. If additional changes to iptables rules were made, selecting Yes is recommended if preserving those added rules is desired. Selecting No will use the prexisting persistent rules.v4 and rules.v6 which contain the Canonical changes, unless previously modified.","title":"Iptables configuration modified"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#sshd-configuration-modified","text":"Canonical makes changes to /etc/ssh/sshd_config for Oracle images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action.","title":"SSHD configuration modified"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#remove-obsolete-packages","text":"An obsolete package is a package which is no longer available in any of the sources for Apt. Usually it is safe and recommended to remove obsolete packages but you can verify which packages would be removed before doing so.","title":"Remove obsolete packages"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#restart-to-finish-upgrade","text":"A restart will be necessary for some parts of the upgrade to be applied. If you select no to the restart you can check /var/run/reboot-required.pkgs to see which things need a reboot to be applied.","title":"Restart to finish upgrade"},{"location":"general/index.html","text":"General","title":"General"},{"location":"general/index.html#general","text":"","title":"General"}]}