==============================================================

Start: How to contribute

These docs are located on the GitHub repository named `ubuntu-cloud-docs`_, and you'll need a GitHub account to make contributions. It is a good idea to fork this repository into your account before you start, otherwise, GitHub will prompt you to do so when you attempt your first change. 

The documentations are:

* structured using the `Diátaxis`_ approach
* written in `reStructuredText`_ as per the `Canonical style guide`_
* built with `Sphinx`_
* hosted on `Read the Docs`_

We are always looking for ways to improve our docs, so we appreciate your contributions! 

Minor changes
-------------

If you find a problem that you can fix and it's a small change, you can use the *Edit this page on GitHub* link at the bottom of the relevant page to edit it directly on GitHub. When you are done with your edits, select :guilabel:`Commit changes...` on the top right. This will help you create a new branch and start a pull request (PR). Use :guilabel:`Propose changes` to submit the PR. We will review it and merge the changes.


Suggestions and questions
-------------------------

Use the :guilabel:`Give feedback` button at the top of any page to create a GitHub issue for any suggestions or questions that you might have.


New content
-----------

When adding new content, it's easier to work with the documentation on your local machine. Once you've made your changes, ensure all checks have passed and everything looks satisfactory before submitting a pull request (PR). To run the checks, you must have ``make`` and ``python3`` installed on your system.

To create new categories for the documentation, follow the `Diátaxis`_ approach. Also, you can create new pages within existing categories.

Creating new categories
~~~~~~~~~~~~~~~~~~~~~~~

You can create new categories to the documentation by following these steps:

1. Create a new folder in your project directory.
2. Add new files representing pages within your category to your new folder.
3. Create a new ``index.rst`` file within your new folder.
4. Add the title of your new category to the first line of the ``index.rst`` file. Underline it using equal signs (=) that match the length of your title. For more information on titles and headings, read the `reStructuredText`_ style guide.
5. Add a toctree that includes the file names or titles of pages within your new category. The toctree should resemble the following structure:

.. code:: rst

   .. toctree::
      :maxdepth: 1

      Page-one-file-name
      Page two title <page-two-file-name>

For more information, read the `Sphinx documentation on toctree`_.

6. Update the project's ``index.rst`` file by adding your new category to the toctree.

Creating new pages
~~~~~~~~~~~~~~~~~~

You can create new pages for existing documentation by following these steps:

1. Create a new file within an existing or newly created category.
#. Add a title to the first line of the file. Underline it using equal signs (=) that match the length of your title. For more information on titles and headings, read the `reStructuredText`_ style guide.
#. Add content to the new file using `reStructuredText`_ and following the `Canonical style guide`_.
#. Update the category's ``index.rst`` file by adding the file name or your preferred title to the toctree. For more information, read the `Sphinx documentation on toctree`_.

Download and install the docs
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you are working with these documentations for the first time, you have to create a fork of the `ubuntu-cloud-docs`_ repository on your GitHub account and then clone that fork to your local machine. Once cloned, go into the ubuntu-cloud-docs directory and run:

.. code::

	make install

This creates a virtual environment and installs all the required dependencies. You only have to do this step once and can skip it the next time you want to contribute.


Build and serve the docs
~~~~~~~~~~~~~~~~~~~~~~~~

Use the ``make run`` command to build and serve the docs at ``http://127.0.0.1:8000`` or equivalently at ``http://localhost:8000``. This gives you a live preview of the changes that you make (and save), without the need for a rebuild:


End: How to contribute

==============================================================


Start: How to contribute links

.. _`ubuntu-cloud-docs`: https://github.com/canonical/ubuntu-cloud-docs
.. _`Diátaxis`: https://diataxis.fr/
.. _`reStructuredText`: https://canonical-documentation-with-sphinx-and-readthedocscom.readthedocs-hosted.com/style-guide/
.. _`Canonical style guide`: https://docs.ubuntu.com/styleguide/en
.. _`Sphinx`: https://www.sphinx-doc.org/en/master/
.. _`Sphinx documentation on toctree`: https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-toctree
.. _`Read the Docs`: https://about.readthedocs.com/?ref=readthedocs.com


End: How to contribute links

==============================================================
